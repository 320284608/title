<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½³æ’âœï¸è®¤å­—ğŸ”¨æ‰“åœ°é¼ </title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B35',
                        secondary: '#4CAF50'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --bg-color: #FFF8E1;
            --text-color: #333333;
            --card-bg: #FFFFFF;
            --hole-bg: radial-gradient(circle at center 70%, #5D4037 0%, #3E2723 100%);
        }

        body.dark-theme {
            --bg-color: #121212;
            --text-color: #E0E0E0;
            --card-bg: #1E1E1E;
            --hole-bg: radial-gradient(circle at center 70%, #3E2723 0%, #1E1E1E 100%);
        }

        body.eye-care-theme {
            --bg-color: #E8F5E9;
            --text-color: #2E7D32;
            --card-bg: #F1F8E9;
            --hole-bg: radial-gradient(circle at center 70%, #558B2F 0%, #33691E 100%);
        }

        body.colorful-theme {
            --bg-color: #E3F2FD;
            --text-color: #1565C0;
            --card-bg: #BBDEFB;
            --hole-bg: radial-gradient(circle at center 70%, #5D4037 0%, #3E2723 100%);
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .bg-theme-card {
            background-color: var(--card-bg);
        }

        .hole {
            background: var(--hole-bg);
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        @keyframes moleUp {
            0% {
                transform: translateY(100%);
            }

            10% {
                transform: translateY(0);
            }

            80% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(100%);
            }
        }

        @keyframes scoreUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(-30px);
                opacity: 0;
            }
        }

        @keyframes scoreDown {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(30px);
                opacity: 0;
            }
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        @keyframes particle {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }

            100% {
                transform: translate(var(--x), var(--y));
                opacity: 0;
            }
        }

        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: particle 0.8s ease-out forwards;
        }

        .mole-animation {
            animation: moleUp 2.5s ease-in-out;
        }

        .score-up {
            animation: scoreUp 0.8s ease-out forwards;
        }

        .score-down {
            animation: scoreDown 0.8s ease-out forwards;
        }

        .shake {
            animation: shake 0.3s ease-in-out;
        }

        .hole {
            background: radial-gradient(circle at center 70%, #5D4037 0%, #3E2723 100%);
            box-shadow: inset 0 10px 20px rgba(0, 0, 0, 0.5);
        }

        body {
            touch-action: manipulation;
            user-select: none;
        }
    </style>
</head>

<body class="font-sans h-screen overflow-hidden">
    <!-- æ¸¸æˆç•Œé¢ -->
    <div id="game-container" class="relative h-screen w-full flex flex-col">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <nav class="fixed w-full top-0 bg-primary text-white py-2 px-3 flex items-center z-10 shadow-md">
            <div class="flex-1 flex items-center">
                <div class="w-5 h-5 flex items-center justify-center mr-1">
                    <i class="ri-timer-line"></i>
                </div>
                <div id="timer" class="text-base font-bold">60</div>
            </div>
            <div class="flex-1 text-center">
                <span class="font-['Pacifico'] text-base">logo</span>
            </div>
            <div class="flex-1 flex items-center justify-end">
                <div class="w-5 h-5 flex items-center justify-center mr-1">
                    <i class="ri-trophy-line"></i>
                </div>
                <div id="score" class="text-base font-bold">0</div>
            </div>
        </nav>
        <!-- ç›®æ ‡æ–‡å­—åŒºåŸŸ -->
        <div class="mt-10 pt-1 pb-1 px-3 bg-theme-card shadow-md">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <span class="text-gray-600 mr-1 text-xs">éš¾åº¦:</span>
                    <span id="difficulty-display" class="text-primary font-medium text-xs">åˆçº§</span>
                </div>
                <div class="flex items-center justify-center">
                    <div id="target-word" class="text-2xl font-bold text-gray-800 mr-2">å­¦</div>
                    <button id="play-sound" class="w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full shadow-md cursor-pointer !rounded-button">
                        <i class="ri-volume-up-line"></i>
                    </button>
                </div>
                <div class="flex items-center">
                    <span class="text-gray-600 mr-1 text-xs">æœºä¼š:</span>
                    <span id="chances-display" class="text-primary font-medium text-xs">2</span>
                </div>
            </div>
            <div id="combo-display" class="h-4 text-amber-600 font-bold text-xs text-center"></div>
        </div>
        <!-- åœ°é¼ æ´åŒºåŸŸ -->
        <div class="flex-1 px-2 py-2 overflow-hidden">
            <div id="holes-container" class="grid grid-cols-3 gap-3 h-full">
                <!-- åœ°é¼ æ´å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        <!-- åº•éƒ¨æ ‡ç­¾æ  -->
<div class="fixed w-full bottom-0 bg-theme-card border-t border-gray-200 grid grid-cols-4 text-xs text-gray-600">
  <button id="restart-btn" class="flex flex-col items-center justify-center py-2 cursor-pointer !rounded-button">
    <div class="w-6 h-6 flex items-center justify-center mb-1">
      <i class="ri-restart-line ri-lg text-primary"></i>
    </div>
    <span>é‡æ–°å¼€å§‹</span>
  </button>
  <button id="home-btn" class="flex flex-col items-center justify-center py-2 cursor-pointer !rounded-button">
    <div class="w-6 h-6 flex items-center justify-center mb-1">
      <i class="ri-home-line ri-lg text-gray-600"></i>
    </div>
    <span>é¦–é¡µ</span>
  </button>
  <button id="settings-btn" class="flex flex-col items-center justify-center py-2 cursor-pointer !rounded-button">
    <div class="w-6 h-6 flex items-center justify-center mb-1">
      <i class="ri-settings-line ri-lg text-gray-600"></i>
    </div>
    <span>è®¾ç½®</span>
  </button>
  <button id="speed-btn" class="flex flex-col items-center justify-center py-2 cursor-pointer !rounded-button">
    <div class="w-6 h-6 flex items-center justify-center mb-1">
      <i class="ri-speed-line ri-lg text-gray-600"></i>
    </div>
    <span>é€Ÿåº¦è°ƒèŠ‚</span>
  </button>
</div>
<!-- é€Ÿåº¦è°ƒèŠ‚å¼¹çª— -->
<div id="speed-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
  <div class="bg-theme-card rounded-lg w-5/6 max-w-md p-6 shadow-xl">
    <h2 class="text-2xl font-bold text-center mb-4">é€Ÿåº¦è°ƒèŠ‚</h2>
    <div class="grid grid-cols-1 gap-3 mb-6">
      <button data-speed="slow" class="speed-btn bg-green-100 hover:bg-green-200 text-green-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
        <div class="flex justify-between items-center">
          <span class="font-bold">æ…¢é€Ÿ</span>
          <span class="text-xs bg-green-200 text-green-800 py-1 px-2 rounded-full">3.5ç§’</span>
        </div>
      </button>
      <button data-speed="medium" class="speed-btn bg-blue-100 hover:bg-blue-200 text-blue-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
        <div class="flex justify-between items-center">
          <span class="font-bold">ä¸­é€Ÿ</span>
          <span class="text-xs bg-blue-200 text-blue-800 py-1 px-2 rounded-full">2.5ç§’</span>
        </div>
      </button>
      <button data-speed="fast" class="speed-btn bg-red-100 hover:bg-red-200 text-red-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
        <div class="flex justify-between items-center">
          <span class="font-bold">å¿«é€Ÿ</span>
          <span class="text-xs bg-red-200 text-red-800 py-1 px-2 rounded-full">1.5ç§’</span>
        </div>
      </button>
    </div>
    <div class="flex justify-center">
      <button id="close-speed" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg cursor-pointer !rounded-button">
        å…³é—­
      </button>
    </div>
  </div>
</div>

    </div>
    <!-- éš¾åº¦é€‰æ‹©å¼¹çª— -->
    <div id="difficulty-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
        <div class="bg-theme-card rounded-lg w-5/6 max-w-md p-6 shadow-xl">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">é€‰æ‹©éš¾åº¦</h2>
            <div class="grid grid-cols-1 gap-3 mb-6">
                <button data-level="1" class="difficulty-btn bg-green-100 hover:bg-green-200 text-green-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">åˆçº§</span>
                        <span class="text-xs bg-green-200 text-green-800 py-1 px-2 rounded-full">400å­—å·¦å³</span> <!-- ä¿®æ”¹ä¸ºå®é™…å­—æ•°æè¿° -->
                    </div>
                    <p class="text-xs text-gray-600 mt-1">åŸºç¡€æ±‰å­—ï¼Œé€‚åˆåˆå­¦è€…</p>
                </button>
                <button data-level="2" class="difficulty-btn bg-blue-100 hover:bg-blue-200 text-blue-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">ä¸­çº§</span>
                        <span class="text-xs bg-blue-200 text-blue-800 py-1 px-2 rounded-full">50è¯</span>
                    </div>
                    <p class="text-xs text-gray-600 mt-1">å¸¸ç”¨è¯è¯­ï¼Œæå‡è¯æ±‡é‡</p>
                </button>
                <button data-level="3" class="difficulty-btn bg-yellow-100 hover:bg-yellow-200 text-yellow-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">é«˜çº§</span>
                        <span class="text-xs bg-yellow-200 text-yellow-800 py-1 px-2 rounded-full">20æ¡</span>
                    </div>
                    <p class="text-xs text-gray-600 mt-1">æˆè¯­è°šè¯­ï¼Œå¢å¼ºè¯­è¨€è¡¨è¾¾</p>
                </button>
                <button data-level="4" class="difficulty-btn bg-purple-100 hover:bg-purple-200 text-purple-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">è¿›é˜¶</span>
                        <span class="text-xs bg-purple-200 text-purple-800 py-1 px-2 rounded-full">30ç»„</span>
                    </div>
                    <p class="text-xs text-gray-600 mt-1">å¤šéŸ³å­—ï¼Œæé«˜è¾¨éŸ³èƒ½åŠ›</p>
                </button>
                <button data-level="5" class="difficulty-btn bg-red-100 hover:bg-red-200 text-red-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">ç»ˆæ</span>
                        <span class="text-xs bg-red-200 text-red-800 py-1 px-2 rounded-full">10å­—</span>
                    </div>
                    <p class="text-xs text-gray-600 mt-1">ç”Ÿåƒ»å­—ï¼ŒæŒ‘æˆ˜æé™</p>
                </button>
            </div>
            <div class="flex justify-center">
                <button id="close-difficulty" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg cursor-pointer !rounded-button">
                    å…³é—­
                </button>
            </div>
        </div>
    </div>
            <!-- è®¾ç½®å¼¹çª— -->
    <div id="settings-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
        <div class="bg-theme-card rounded-lg w-5/6 max-w-md p-6 shadow-xl">
            <h2 class="text-2xl font-bold text-center mb-4">è®¾ç½®</h2>
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">ä¸»é¢˜è®¾ç½®</h3>
                <div class="grid grid-cols-2 gap-3">
                    <button data-theme="default" class="theme-btn bg-amber-50 hover:bg-amber-100 text-amber-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button border-2 border-transparent">
                        <div class="flex justify-between items-center">
                            <span class="font-bold">é»˜è®¤ä¸»é¢˜</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-check-line ri-lg theme-check hidden"></i>
                            </div>
                        </div>
                    </button>
                    <button data-theme="dark" class="theme-btn bg-gray-800 hover:bg-gray-700 text-gray-200 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button border-2 border-transparent">
                        <div class="flex justify-between items-center">
                            <span class="font-bold">å¤œé—´æ¨¡å¼</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-check-line ri-lg theme-check hidden"></i>
                            </div>
                        </div>
                    </button>
                    <button data-theme="eye-care" class="theme-btn bg-green-100 hover:bg-green-200 text-green-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button border-2 border-transparent">
                        <div class="flex justify-between items-center">
                            <span class="font-bold">æŠ¤çœ¼æ¨¡å¼</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-check-line ri-lg theme-check hidden"></i>
                            </div>
                        </div>
                    </button>
                    <button data-theme="colorful" class="theme-btn bg-blue-100 hover:bg-blue-200 text-blue-800 py-3 px-4 rounded-lg text-left relative cursor-pointer !rounded-button border-2 border-transparent">
                        <div class="flex justify-between items-center">
                            <span class="font-bold">å¤šå½©æ¨¡å¼</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-check-line ri-lg theme-check hidden"></i>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
            <div class="flex justify-center">
                <button id="close-settings" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg cursor-pointer !rounded-button">
                    å…³é—­
                </button>
            </div>
        </div>
    </div>
    <!-- æ¸¸æˆç»“ç®—å¼¹çª— -->
    <div id="result-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
        <div class="bg-theme-card rounded-lg w-5/6 max-w-md p-6 shadow-xl">
            <h2 class="text-2xl font-bold text-center mb-2">æ¸¸æˆç»“æŸ</h2>
            <div class="text-center mb-6">
                <div class="text-5xl font-bold text-primary my-4" id="final-score">0</div>
                <p class="text-gray-600">æœ€ç»ˆå¾—åˆ†</p>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-gray-100 p-3 rounded-lg">
                    <p class="text-xs text-gray-600">éš¾åº¦</p>
                    <p class="font-bold text-gray-800" id="result-difficulty">åˆçº§</p>
                </div>
                <div class="bg-gray-100 p-3 rounded-lg">
                    <p class="text-xs text-gray-600">ç”¨æ—¶</p>
                    <p class="font-bold text-gray-800" id="result-time">60ç§’</p>
                </div>
                <div class="bg-gray-100 p-3 rounded-lg">
                    <p class="text-xs text-gray-600">æ­£ç¡®ç‡</p>
                    <p class="font-bold text-gray-800" id="result-accuracy">0%</p>
                </div>
                <div class="bg-gray-100 p-3 rounded-lg">
                    <p class="text-xs text-gray-600">æœ€é«˜è¿å‡»</p>
                    <p class="font-bold text-gray-800" id="result-combo">0</p>
                </div>
            </div>
            <div class="flex justify-between">
                <button id="back-to-difficulty" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-lg cursor-pointer !rounded-button">
                    é€‰æ‹©éš¾åº¦
                </button>
                <button id="play-again" class="bg-primary hover:bg-primary/90 text-white font-medium py-2 px-6 rounded-lg cursor-pointer !rounded-button">
                    å†ç©ä¸€æ¬¡
                </button>
            </div>
        </div>
    </div>
    <script>
        // æ¸¸æˆæ•°æ®
        const gameData = {
            levels: [{
                    name: "åˆçº§",
                    words: ["å­¦", "ä¹ ", "å¥½", "äºº", "å¤§", "å°", "ä¸Š", "ä¸‹", "ä¸­", "å›½", "å¤©", "åœ°", "æ—¥", "æœˆ", "æ°´", "ç«", "å±±", "æœ¨", "å£", "æ‰‹", "å¿ƒ", "ç›®", "è€³", "é¼»", "å®¶", "ä¹¦", "è½¦", "é—¨", "é±¼", "é¸Ÿ", "è™«", "é©¬", "ç‰›", "ç¾Š", "çŒ«", "ç‹—", "å…”", "é¾™", "èŠ±", "è‰", "æ ‘", "ç±³", "é¢", "èœ", "æœ", "èŒ¶", "æ°´", "é£", "é›¨", "é›ª", "äº‘", "ç”µ", "è·¯", "æ¡¥", "æµ·", "æ²³", "æ¹–", "æ±Ÿ", "åŸ", "çˆ¸", "å¦ˆ", "çˆ·", "å¥¶", "å“¥", "å§", "å¼Ÿ", "å¦¹", "æ¡Œ", "æ¤…", "åºŠ", "è¢«", "æ•", "ç¯", "ç¬”", "çº¸", "æœ¬", "åˆ€", "å°º", "çƒ", "æ‹", "ç»³", "é’Ÿ", "è¡¨", "ä¼", "å¸½", "è¡£", "è£¤", "é‹", "è¢œ", "é”…", "ç¢—", "ç­·", "å‹º", "å‰", "ç“¶", "æ¯", "ç›˜", "ç›†", "æ¡¶", "è¢‹", "åŒ…", "ç®±", "é”", "é’¥", "é’‰", "é”¤", "æ–§", "é”¯", "é”„", "é•°", "æ¢¯", "å‡³", "æ¢¯", "æ‰‡", "é•œ", "æ¢³", "åˆ·", "çš‚", "é¦™", "æ²¹", "ç›", "ç³–", "é…±", "é†‹", "å¥¶", "è›‹", "è±†", "ç“œ", "èŒ„", "æ¤’", "è‘±", "å§œ", "è’œ", "è¯", "é’ˆ", "çº¿", "å¸ƒ", "æ¯›", "çš®", "çŸ³", "æ²™", "åœŸ", "æ³¥", "ç°", "çƒŸ", "é›¾", "å†°", "éœœ", "æ˜Ÿ", "è¾°", "å…‰", "æ˜", "æš—", "é»‘", "ç™½", "çº¢", "ç»¿", "é»„", "è“", "ç´«", "æ©™", "ç²‰", "æ£•", "ç°", "é‡‘", "é“¶", "æ¡Œ", "æ¤…", "åºŠ", "æŸœ", "çª—", "å¸˜", "é’Ÿ", "è¡¨", "ç”»", "ä¹¦", "æ¶", "ç¬”", "å¢¨", "çº¸", "ç š", "ç´", "æ£‹", "ä¹¦", "ç”»", "èŠ±", "é¸Ÿ", "é±¼", "è™«", "å±±", "æ°´", "äº‘", "éœ", "é›·", "ç”µ", "é£", "é›¨", "é›ª", "éœœ", "å†°", "ç«", "åœŸ", "çŸ³", "é‡‘", "æœ¨", "æ°´", "ç«", "åœŸ", "æ—¥", "æœˆ", "æ˜Ÿ", "ç©º", "æµ·", "æ´‹", "æ²³", "æ±Ÿ", "æ¹–", "æºª", "è°·", "å³°", "å²­", "ä¸˜", "åŸ", "å·", "ç”°", "å›­", "æ—", "æ£®", "æœ", "è”¬", "ç²®", "è°·", "è±†", "ç±³", "é¢", "æ²¹", "ç›", "ç³–", "é…±", "é†‹", "èŒ¶", "é…’", "å¥¶", "è›‹", "è‚‰", "é±¼", "è™¾", "èŸ¹", "è´", "è‡", "èŒ", "è¯", "æ", "èŠ±", "è‰", "æ ‘", "æœ¨", "æ ¹", "èŒ", "å¶", "æ", "èŠ½", "è•¾", "ç±½", "çš®", "æ¯›", "ç¾½", "è§’", "ç‰™", "éª¨", "è¡€", "è‚‰", "å¿ƒ", "è‚", "è„¾", "è‚º", "è‚¾", "è‚ ", "èƒƒ", "è„‘", "çœ¼", "è€³", "é¼»", "å˜´", "èˆŒ", "ç‰™", "å”‡", "æ‰‹", "è¶³", "è…¿", "è‡‚", "è‚©", "èƒŒ", "è…°", "è‚š", "è†", "è‚˜", "è…•", "æŒ‡", "è¶¾", "å‘", "é¡»", "çœ‰", "æ±—", "æ³ª", "æ¶•", "å±", "å°¿", "å±", "å£°", "éŸ³", "æ­Œ", "èˆ", "è¯—", "è¯", "ä¹¦", "æ–‡", "å­—", "æ•°", "ç†", "åŒ–", "ç”Ÿ", "åœ°", "å†", "æ”¿", "ç¾", "ä½“", "åŠ³", "ç§‘", "æŠ€", "ç½‘", "ç”µ", "æœº", "è½¦", "èˆ¹", "é£", "ç‚®", "æª", "å¼¹", "è¯", "å…µ", "å°†", "å¸…", "å›½", "å®¶", "æ°‘", "æ—", "å…š", "ç¤¾", "ä¼š", "æ³•", "å¾‹", "è§„", "åˆ™", "å…¬", "å¹³", "æ­£", "ä¹‰", "é“", "å¾·", "ç¤¼", "ä»ª", "å»‰", "è€»", "è£", "è¾±", "å¯Œ", "è´«", "è´µ", "è´±", "ç¦", "ç¥¸", "å‰", "å‡¶", "å–œ", "æ€’", "å“€", "ä¹"]
                },
                {
                    name: "ä¸­çº§",
                    words: ["å­¦ä¹ ", "å·¥ä½œ", "ç”Ÿæ´»", "æœ‹å‹", "å®¶äºº", "è€å¸ˆ", "å­¦ç”Ÿ", "åŒ»ç”Ÿ", "è­¦å¯Ÿ", "å¸æœº", "å•†åº—", "å…¬å›­", "å­¦æ ¡", "åŒ»é™¢", "é“¶è¡Œ", "é¤å…", "ç”µå½±", "éŸ³ä¹", "è¿åŠ¨", "æ¸¸æˆ", "ç”µè„‘", "æ‰‹æœº", "ç”µè§†", "æ±½è½¦", "é£æœº", "ç«è½¦", "åœ°é“", "å…¬äº¤", "æ—©é¤", "åˆé¤", "æ™šé¤", "æ°´æœ", "è”¬èœ", "è‚‰ç±»", "æµ·é²œ", "ç”œç‚¹", "é¥®æ–™", "å’–å•¡", "èŒ¶å¶", "å¤©æ°”", "å­£èŠ‚", "æ˜¥å¤©", "å¤å¤©", "ç§‹å¤©", "å†¬å¤©", "èŠ‚æ—¥", "ç”Ÿæ—¥", "æ–°å¹´", "ä¸­ç§‹", "å›½åº†"]
                },
                {
                    name: "é«˜çº§",
                    words: ["ä¸€ä¸¾ä¸¤å¾—", "å››é¢å…«æ–¹", "äº”é¢œå…­è‰²", "ä¸ƒä¸Šå…«ä¸‹", "ä¹ç‰›ä¸€æ¯›", "åå…¨åç¾", "ç™¾å‘ç™¾ä¸­", "åƒå˜ä¸‡åŒ–", "ä¸‡ç´«åƒçº¢", "ä¸‰å¿ƒäºŒæ„", "åŠä¿¡åŠç–‘", "è‡ªè¨€è‡ªè¯­", "è‡ªä½œè‡ªå—", "å‰å› åæœ", "ä¸œå¼ è¥¿æœ›", "å—è¾•åŒ—è¾™", "å·¦æ€å³æƒ³", "æœ‰å§‹æœ‰ç»ˆ", "æ— å½±æ— è¸ª", "å¤©é•¿åœ°ä¹…"]
                },
                {
                    name: "è¿›é˜¶",
                    words: ["è¡Œ", "ä¹", "é•¿", "å¾—", "å¥½", "å¤§", "è§‰", "ç€", "é‡", "ä¸º", "çœ", "è¿˜", "åœ°", "å¼¹", "æ•°", "ç©º", "å’Œ", "è°ƒ", "å°‘", "åª", "ç³»", "å‡", "éš¾", "é‡", "å‘", "æŠ˜", "å¥‡", "é—´", "è§£", "åˆ†"]
                },
                {
                    name: "ç»ˆæ",
                    words: ["é¾˜", "é¬»", "é‘«", "éº¤", "é½‰", "é¸¯", "é¬£", "é±»", "é¬Ÿ", "é¸¾"]
                }
            ],
            speed: "medium", // æ·»åŠ é€Ÿåº¦å±æ€§ï¼Œé»˜è®¤ä¸­é€Ÿ
            currentLevel: 0,
            targetWord: "",
            currentWordIndex: 0,
            remainingChances: 5,
            score: 0,
            timer: 800, // ä¿®æ”¹åˆçº§æ¨¡å¼çš„åˆå§‹æ—¶é—´ä¸º800ç§’
            gameActive: false,
            correctHits: 0,
            wrongHits: 0,
            combo: 0,
            maxCombo: 0,
            activeMoles: []
        };

        // é‡ç½®æ¸¸æˆçŠ¶æ€
        function resetGame() {
            gameData.score = 0;
            gameData.timer = 800; // ä¿®æ”¹è¿™é‡Œçš„æ—¶é—´ä¸º800ç§’
            gameData.correctHits = 0;
            gameData.wrongHits = 0;
            gameData.combo = 0;
            gameData.maxCombo = 0;
            gameData.gameActive = false;
            gameData.activeMoles = [];
            gameData.currentWordIndex = 0;
            gameData.remainingChances = 2;
            elements.scoreDisplay.textContent = "0";
            elements.timerDisplay.textContent = "800"; // ä¿®æ”¹è¿™é‡Œçš„åˆå§‹æ˜¾ç¤ºæ—¶é—´ä¸º800
            elements.comboDisplay.textContent = "";
            elements.chancesDisplay.textContent = "2";
            // éšè—æ‰€æœ‰åœ°é¼ 
            document.querySelectorAll(".mole").forEach(mole => {
                mole.classList.remove("mole-animation");
                mole.style.transform = "translateY(100%)";
                const wordBubble = mole.querySelector(".word-bubble");
                wordBubble.classList.add("hidden");
                wordBubble.textContent = "";
            });
        }

        // DOMå…ƒç´ 
        const elements = {
            gameContainer: document.getElementById("game-container"),
            holesContainer: document.getElementById("holes-container"),
            timerDisplay: document.getElementById("timer"),
            scoreDisplay: document.getElementById("score"),
            targetWordDisplay: document.getElementById("target-word"),
            difficultyDisplay: document.getElementById("difficulty-display"),
            chancesDisplay: document.getElementById("chances-display"),
            comboDisplay: document.getElementById("combo-display"),
            difficultyModal: document.getElementById("difficulty-modal"),
            settingsModal: document.getElementById("settings-modal"),
            resultModal: document.getElementById("result-modal"),
            finalScoreDisplay: document.getElementById("final-score"),
            resultDifficultyDisplay: document.getElementById("result-difficulty"),
            resultTimeDisplay: document.getElementById("result-time"),
            resultAccuracyDisplay: document.getElementById("result-accuracy"),
            resultComboDisplay: document.getElementById("result-combo"),
            playSound: document.getElementById("play-sound"),
            restartBtn: document.getElementById("restart-btn"),
            homeBtn: document.getElementById("home-btn"),
            settingsBtn: document.getElementById("settings-btn"),
            rankBtn: document.getElementById("rank-btn")
        };

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            createHoles(12);
            showDifficultyModal();
            // è®¾ç½®å½“å‰ä¸»é¢˜
            setTheme('default');
            // äº‹ä»¶ç›‘å¬
            document.querySelectorAll(".difficulty-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                    gameData.currentLevel = parseInt(btn.dataset.level) - 1;
                    elements.difficultyDisplay.textContent = gameData.levels[gameData.currentLevel].name;
                    elements.difficultyModal.classList.add("hidden");
                    startGame();
                });
            });
            document.getElementById("close-difficulty").addEventListener("click", () => {
                elements.difficultyModal.classList.add("hidden");
            });
            document.getElementById("play-again").addEventListener("click", () => {
                elements.resultModal.classList.add("hidden");
                startGame();
            });
            document.getElementById("back-to-difficulty").addEventListener("click", () => {
                elements.resultModal.classList.add("hidden");
                showDifficultyModal();
            });
            elements.playSound.addEventListener("click", () => {
                playWordSound(gameData.targetWord);
            });
            elements.restartBtn.addEventListener("click", () => {
                if (gameData.gameActive) {
                                // åˆ›å»ºè‡ªå®šä¹‰ç¡®è®¤å¯¹è¯æ¡†
            const confirmDialog = document.createElement('div');
            confirmDialog.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-30';
            confirmDialog.innerHTML = `
<div class="bg-theme-card rounded-lg w-5/6 max-w-md p-5 shadow-xl">
<h3 class="text-xl font-bold text-gray-800 mb-3 text-center">æç¤º</h3>
<p class="text-gray-600 mb-5 text-center">ç¡®å®šè¦æ”¾å¼ƒå½“å‰æ¸¸æˆå¹¶é‡æ–°å¼€å§‹å—ï¼Ÿ</p>
<div class="flex justify-center gap-4">
<button id="cancel-restart" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-5 rounded-lg cursor-pointer !rounded-button">
å–æ¶ˆ
</button>
<button id="confirm-restart" class="bg-primary hover:bg-primary/90 text-white font-medium py-2 px-5 rounded-lg cursor-pointer !rounded-button">
ç¡®å®š
</button>
</div>
</div>
`;
                    document.body.appendChild(confirmDialog);
                    // æ·»åŠ æŒ‰é’®äº‹ä»¶
                    document.getElementById('cancel-restart').addEventListener('click', () => {
                        document.body.removeChild(confirmDialog);
                    });
                    document.getElementById('confirm-restart').addEventListener('click', () => {
                        document.body.removeChild(confirmDialog);
                        startGame();
                    });
                } else {
                    startGame();
                }
            });
            elements.homeBtn.addEventListener("click", showDifficultyModal);
            elements.settingsBtn.addEventListener("click", showSettingsModal);
            document.getElementById("close-settings").addEventListener("click", () => {
                elements.settingsModal.classList.add("hidden");
            });
            document.querySelectorAll(".theme-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                    const theme = btn.dataset.theme;
                    setTheme(theme);
                });
            });
            
        }
        // æ˜¾ç¤ºè®¾ç½®å¼¹çª—
        function showSettingsModal() {
            elements.settingsModal.classList.remove("hidden");
        }
        // è®¾ç½®ä¸»é¢˜
        function setTheme(theme) {
            // ç§»é™¤æ‰€æœ‰ä¸»é¢˜ç±»
            document.body.classList.remove('dark-theme', 'eye-care-theme', 'colorful-theme');
            // æ·»åŠ é€‰ä¸­çš„ä¸»é¢˜ç±»
            if (theme !== 'default') {
                document.body.classList.add(`${theme}-theme`);
            }
            // æ›´æ–°ä¸»é¢˜æŒ‰é’®é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.theme-btn').forEach(btn => {
                const check = btn.querySelector('.theme-check');
                if (btn.dataset.theme === theme) {
                    btn.classList.add('border-primary');
                    check.classList.remove('hidden');
                } else {
                    btn.classList.remove('border-primary');
                    check.classList.add('hidden');
                }
            });
        }
        // åˆ›å»ºåœ°é¼ æ´
        function createHoles(count) {
            elements.holesContainer.innerHTML = "";
            for (let i = 0; i < count; i++) {
                const hole = document.createElement("div");
                hole.className = "hole relative rounded-full aspect-square flex items-center justify-center overflow-hidden";
                hole.dataset.index = i;
                // åˆ›å»ºåœ°é¼ å®¹å™¨ï¼ˆåˆå§‹éšè—ï¼‰
                const mole = document.createElement("div");
                mole.className = "mole absolute bottom-0 w-full h-full translate-y-full";
                mole.innerHTML = `
<div class="relative h-full flex flex-col items-center justify-end pb-2">
<div class="word-bubble hidden absolute top-1 bg-white rounded-full px-2 py-1 shadow-md text-base font-bold"></div>
<div class="mole-image w-2/3 h-1/2">
<img src="https://readdy.ai/api/search-image?query=cute%20cartoon%20mole%20character%20with%20big%20eyes%2C%20smiling%2C%20digital%20art%20style%2C%20isolated%20on%20transparent%20background%2C%20the%20mole%20should%20take%20up%2070%25%20of%20the%20frame%2C%20centered%20composition&width=200&height=200&seq=mole1&orientation=squarish" alt="åœ°é¼ " class="w-full h-full object-contain">
</div>
</div>
`;
                hole.appendChild(mole);
                elements.holesContainer.appendChild(hole);
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                hole.addEventListener("click", handleMoleClick);
            }
        }
        // æ˜¾ç¤ºéš¾åº¦é€‰æ‹©å¼¹çª—
        function showDifficultyModal() {
            resetGame();
            elements.difficultyModal.classList.remove("hidden");
        }
        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            resetGame();
            gameData.gameActive = true;
            // æ ¹æ®å½“å‰éš¾åº¦çº§åˆ«è®¾ç½®åˆå§‹æ—¶é—´
            if (gameData.currentLevel === 0) { // åˆçº§æ¨¡å¼å¯¹åº”çš„ç´¢å¼•æ˜¯0
                gameData.timer = 800;
            } else {
                gameData.timer = 60;
            }
            elements.timerDisplay.textContent = gameData.timer;
            setNewTargetWord();
            // å¼€å§‹å€’è®¡æ—¶
            const timerInterval = setInterval(() => {
                gameData.timer--;
                elements.timerDisplay.textContent = gameData.timer;
                if (gameData.timer <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);
            // å¼€å§‹å‡ºç°åœ°é¼ 
            showMoles();
        }
        // é‡ç½®æ¸¸æˆçŠ¶æ€
        function resetGame() {
            gameData.score = 0;
            gameData.timer = 60;
            gameData.correctHits = 0;
            gameData.wrongHits = 0;
            gameData.combo = 0;
            gameData.maxCombo = 0;
            gameData.gameActive = false;
            gameData.activeMoles = [];
            gameData.currentWordIndex = 0;
            gameData.remainingChances = 2;
            elements.scoreDisplay.textContent = "0";
            elements.timerDisplay.textContent = "60";
            elements.comboDisplay.textContent = "";
            elements.chancesDisplay.textContent = "2";
            // éšè—æ‰€æœ‰åœ°é¼ 
            document.querySelectorAll(".mole").forEach(mole => {
                mole.classList.remove("mole-animation");
                mole.style.transform = "translateY(100%)";
                const wordBubble = mole.querySelector(".word-bubble");
                wordBubble.classList.add("hidden");
                wordBubble.textContent = "";
            });
        }
        // è®¾ç½®æ–°çš„ç›®æ ‡æ–‡å­—
        function setNewTargetWord() {
            const words = gameData.levels[gameData.currentLevel].words;
            // éšæœºé€‰æ‹©ä¸€ä¸ªå•è¯ä½œä¸ºç›®æ ‡å•è¯
            const randomIndex = Math.floor(Math.random() * words.length);
            gameData.targetWord = words[randomIndex];
            elements.targetWordDisplay.textContent = gameData.targetWord;
            // é‡ç½®å‰©ä½™æœºä¼š
            gameData.remainingChances = 2;
            elements.chancesDisplay.textContent = gameData.remainingChances;
            // æ’­æ”¾å•è¯å‘éŸ³
            playWordSound(gameData.targetWord);
        }
        // æ’­æ”¾å•è¯å‘éŸ³ï¼ˆä¼˜å…ˆæœ¬åœ°æ–‡ä»¶ï¼Œå¤±è´¥åˆ™ä½¿ç”¨TTSï¼‰
        function playWordSound(word) {
            // å…ˆå°è¯•æ’­æ”¾æœ¬åœ°éŸ³é¢‘
            const localAudio = new Audio(`audio/${word}.mp3`);

            localAudio.play().catch(error => {
                console.log('æœ¬åœ°éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨TTS');
                // æœ¬åœ°æ–‡ä»¶åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨TTS
                if ('speechSynthesis' in window) {
                    const msg = new SpeechSynthesisUtterance();
                    msg.text = word;
                    msg.lang = 'zh-CN'; // è®¾ç½®ä¸ºä¸­æ–‡å‘éŸ³
                    msg.rate = 0.9; // è¯­é€Ÿ
                    msg.pitch = 1; // éŸ³é«˜

                    // å°è¯•è·å–ä¸­æ–‡è¯­éŸ³
                    const voices = speechSynthesis.getVoices().filter(v => v.lang === 'zh-CN');
                    if (voices.length > 0) {
                        msg.voice = voices[0];
                    }

                    speechSynthesis.speak(msg);
                } else {
                    console.log('æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆ');
                    // å¦‚æœéƒ½ä¸æ”¯æŒï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ç½‘ç»œAPIè°ƒç”¨
                }
            });

            // æ·»åŠ é”™è¯¯ç›‘å¬ï¼ˆå¤„ç†404ç­‰æƒ…å†µï¼‰
            localAudio.addEventListener('error', (e) => {
                console.log('æœ¬åœ°éŸ³é¢‘åŠ è½½å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨TTS');
                localAudio.remove(); // ç§»é™¤æ— æ•ˆçš„éŸ³é¢‘å…ƒç´ 

                // åŒä¸ŠTTSé€»è¾‘
                if ('speechSynthesis' in window) {
                    const msg = new SpeechSynthesisUtterance(word);
                    msg.lang = 'zh-CN';
                    speechSynthesis.speak(msg);
                }
            });
        }
        // æ˜¾ç¤ºåœ°é¼ 
        function showMoles() {
            if (!gameData.gameActive) return;
            // æ¸…é™¤å½“å‰æ´»åŠ¨çš„åœ°é¼ 
            gameData.activeMoles.forEach(index => {
                const hole = document.querySelector(`.hole[data-index="${index}"]`);
                const mole = hole.querySelector(".mole");
                mole.classList.remove("mole-animation");
                mole.style.transform = "translateY(100%)";
                const wordBubble = mole.querySelector(".word-bubble");
                wordBubble.classList.add("hidden");
            });
            gameData.activeMoles = [];
            // éšæœºé€‰æ‹©2-4ä¸ªæ´
            const holeCount = document.querySelectorAll(".hole").length;
            const moleCount = Math.floor(Math.random() * 3) + 2; // 2-4åªåœ°é¼ 
            // ç¡®ä¿è‡³å°‘æœ‰ä¸€åªåœ°é¼ ä¸¾ç€æ­£ç¡®çš„æ–‡å­—
            const correctMoleIndex = Math.floor(Math.random() * moleCount);
            for (let i = 0; i < moleCount; i++) {
                let holeIndex;
                do {
                    holeIndex = Math.floor(Math.random() * holeCount);
                } while (gameData.activeMoles.includes(holeIndex));
                gameData.activeMoles.push(holeIndex);
                const hole = document.querySelector(`.hole[data-index="${holeIndex}"]`);
                const mole = hole.querySelector(".mole");
                const wordBubble = mole.querySelector(".word-bubble");
                // è®¾ç½®æ–‡å­—
                let word;
                if (i === correctMoleIndex) {
                    word = gameData.targetWord;
                    mole.dataset.correct = "true";
                } else {
                    // éšæœºé€‰æ‹©ä¸€ä¸ªä¸åŒçš„æ–‡å­—
                    const words = gameData.levels[gameData.currentLevel].words;
                    do {
                        word = words[Math.floor(Math.random() * words.length)];
                    } while (word === gameData.targetWord);
                    mole.dataset.correct = "false";
                }
                wordBubble.textContent = word;
                wordBubble.classList.remove("hidden");
                // æ˜¾ç¤ºåœ°é¼ 
                mole.classList.add("mole-animation");
                mole.style.transform = "translateY(0)";
            }
            // è®¾ç½®ä¸‹ä¸€æ‰¹åœ°é¼ å‡ºç°çš„æ—¶é—´
            const nextMoleTime = Math.floor(Math.random() * 1000) + 2500; // 2.5-3.5ç§’
            setTimeout(() => {
                if (gameData.gameActive) {
                    showMoles();
                }
            }, nextMoleTime);
        }
        // å¤„ç†åœ°é¼ ç‚¹å‡»
        function handleMoleClick(event) {
            if (!gameData.gameActive) return;
            const hole = event.currentTarget;
            const holeIndex = parseInt(hole.dataset.index);
            // æ£€æŸ¥æ˜¯å¦æ˜¯æ´»åŠ¨çš„åœ°é¼ 
            if (!gameData.activeMoles.includes(holeIndex)) return;
            const mole = hole.querySelector(".mole");
            const isCorrect = mole.dataset.correct === "true";
            // åœ°é¼ è¢«å‡»ä¸­çš„åŠ¨ç”»
            mole.classList.remove("mole-animation");
            mole.classList.add("shake");
            setTimeout(() => {
                mole.classList.remove("shake");
                mole.style.transform = "translateY(100%)";
                const wordBubble = mole.querySelector(".word-bubble");
                wordBubble.classList.add("hidden");
            }, 300);
            // ä»æ´»åŠ¨åœ°é¼ åˆ—è¡¨ä¸­ç§»é™¤
            gameData.activeMoles = gameData.activeMoles.filter(index => index !== holeIndex);
            // æ›´æ–°åˆ†æ•°
            updateScore(isCorrect, hole);
            // å¦‚æœæ˜¯æ­£ç¡®çš„ç‚¹å‡»ï¼Œåˆ›å»ºç²’å­æ•ˆæœ
            if (isCorrect) {
                createParticles(event.clientX, event.clientY);
            }
            // å¦‚æœæ‰€æœ‰åœ°é¼ éƒ½è¢«å‡»ä¸­ï¼Œç”Ÿæˆæ–°çš„åœ°é¼ 
            if (gameData.activeMoles.length === 0) {
                setTimeout(showMoles, 500);
            }
        }
        // åˆ›å»ºç²’å­æ•ˆæœ
        function createParticles(x, y) {
            const colors = ['#FF6B35', '#4CAF50', '#FFC107', '#2196F3', '#9C27B0', '#FF5722'];
            const particleCount = 20;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                // éšæœºæ–¹å‘å’Œè·ç¦»
                const angle = Math.random() * Math.PI * 2;
                const distance = 50 + Math.random() * 50;
                const xDistance = Math.cos(angle) * distance;
                const yDistance = Math.sin(angle) * distance;
                particle.style.setProperty('--x', `${xDistance}px`);
                particle.style.setProperty('--y', `${yDistance}px`);
                document.body.appendChild(particle);
                // åŠ¨ç”»ç»“æŸåç§»é™¤ç²’å­
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 800);
            }
        }
        // æ›´æ–°åˆ†æ•°
        function updateScore(isCorrect, hole) {
            let scoreChange = 0;
            let scoreText = "";
            let scoreClass = "";
            if (isCorrect) {
                gameData.correctHits++;
                gameData.combo++;
                if (gameData.combo > gameData.maxCombo) {
                    gameData.maxCombo = gameData.combo;
                }
                // è¿å‡»åŠ æˆ
                const comboMultiplier = gameData.combo >= 3 ? 1.5 : 1;
                scoreChange = Math.floor(100 * comboMultiplier);
                scoreText = `+${scoreChange}`;
                scoreClass = "text-green-600 score-up";
                // æ›´æ–°è¿å‡»æ˜¾ç¤º
                if (gameData.combo >= 3) {
                    elements.comboDisplay.textContent = `è¿å‡» x${gameData.combo} (x1.5)`;
                } else if (gameData.combo >= 2) {
                    elements.comboDisplay.textContent = `è¿å‡» x${gameData.combo}`;
                } else {
                    elements.comboDisplay.textContent = "";
                }
                // æ’­æ”¾æ­£ç¡®éŸ³æ•ˆ
                const audio = new Audio();
                audio.src = "data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC4xMwAAAAAAAAAAAAAAACQCkAAAAAAAAAGwxQa53QAAAAAAAAAAAAAAAAAAAAAA/+MYxAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDsAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxHYAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";
                audio.play();
                // å¦‚æœæ­£ç¡®å‡»ä¸­ï¼Œå‡å°‘å‰©ä½™æœºä¼š
                gameData.remainingChances--;
                elements.chancesDisplay.textContent = gameData.remainingChances;
                // å¦‚æœæœºä¼šç”¨å®Œï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªå•è¯
                if (gameData.remainingChances <= 0) {
                    gameData.currentWordIndex++;
                    setTimeout(() => {
                        if (gameData.gameActive) {
                            setNewTargetWord();
                            showMoles();
                        }
                    }, 1000);
                }
            } else {
                gameData.wrongHits++;
                gameData.combo = 0;
                scoreChange = -50;
                scoreText = scoreChange.toString();
                scoreClass = "text-red-600 score-down";
                elements.comboDisplay.textContent = "";
                            // æ’­æ”¾é”™è¯¯éŸ³æ•ˆ
            const audio = new Audio();
            audio.src = "data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC4xMwAAAAAAAAAAAAAAACQCkAAAAAAAAAGwxQa53QAAAAAAAAAAAAAAAAAAAAAA/+MYxAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDsAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxHYAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";
            audio.play();
        }
        // æ›´æ–°æ€»åˆ†
        gameData.score += scoreChange;
        if (gameData.score < 0) gameData.score = 0;
        elements.scoreDisplay.textContent = gameData.score;
        // æ˜¾ç¤ºåˆ†æ•°åŠ¨ç”»
        const scoreAnimation = document.createElement("div");
        scoreAnimation.className = `absolute text-xl font-bold ${scoreClass}`;
        scoreAnimation.style.left = "50%";
        scoreAnimation.style.top = "50%";
        scoreAnimation.style.transform = "translate(-50%, -50%)";
        scoreAnimation.textContent = scoreText;
        hole.appendChild(scoreAnimation);
        setTimeout(() => {
            scoreAnimation.remove();
        }, 800);
    }
    // ç»“æŸæ¸¸æˆ
    function endGame() {
        gameData.gameActive = false;
        // éšè—æ‰€æœ‰åœ°é¼ 
        document.querySelectorAll(".mole").forEach(mole => {
            mole.classList.remove("mole-animation");
            mole.style.transform = "translateY(100%)";
            const wordBubble = mole.querySelector(".word-bubble");
            wordBubble.classList.add("hidden");
        });
        // æ˜¾ç¤ºç»“ç®—ç•Œé¢
        elements.finalScoreDisplay.textContent = gameData.score;
        elements.resultDifficultyDisplay.textContent = gameData.levels[gameData.currentLevel].name;
        elements.resultTimeDisplay.textContent = "60ç§’";
        const totalHits = gameData.correctHits + gameData.wrongHits;
        const accuracy = totalHits > 0 ? Math.round((gameData.correctHits / totalHits) * 100) : 0;
        elements.resultAccuracyDisplay.textContent = `${accuracy}%`;
        elements.resultComboDisplay.textContent = gameData.maxCombo;
        elements.resultModal.classList.remove("hidden");
    }
    // åˆå§‹åŒ–æ¸¸æˆ
    window.addEventListener("DOMContentLoaded", initGame);
</script>
</body>

</html>